# 1-时间区间查询

## 1-1 字段类型：time或date

- to_date

``` sql
select * from SAMPLE s where s.CREATE_TIME >= to_date('2022-01-01 12:00:00','yyyy-mm-dd hh24:mi:ss')
```

- to_char

```sql
select ENROLDATE  from demo where to_char(ENROLDATE,'yyyy-mm-dd')='2020-06-29'
```





## 1-2 字段类型：varchar

``` sql
select * from F_IRMS i where to_date(substr(i.sto,1,10), 'yyyy-MM-dd') = to_date('2021-04-15', 'yyyy-mm-dd')
```





## 1-3 日期和字符转换函数用法（to_date,to_char）

``` sql
select sysdate,to_char(sysdate,'yyyy-mm-dd hh24:mi:ss') as nowTime from dual;  --结果：2022-09-14 01:03:27	2022-09-14 01:03:27
select to_char(sysdate,'yyyy') as nowYear   from dual; --结果：2022
select to_char(sysdate,'mm')   as nowMonth  from dual; --结果：01
select to_char(sysdate,'dd')   as nowDay    from dual; --结果：26
select to_char(sysdate,'hh24') as nowHour   from dual; --结果：13
select to_char(sysdate,'mi')   as nowMinute from dual; --结果：04
select to_char(sysdate,'ss')   as nowSecond from dual; --结果：53


select to_date('2022-01-26 13:04:53','yyyy-mm-dd hh24:mi:ss')  from dual

```





## 1-3 时间查询异常记录

- 文字与格式字符串不匹配

- **情况一：**是因为你的时间格式与实际填写的时间格式不一样，比如常见错误：to_date(‘2021-01-01 12:00:00’,‘yyy-mm-dd hh24:mi:ss’) 这里的yyy少写一个y或者hh24格式等问题。

- **情况二：**时间以字符串格式存在数据库中且格式不规范，需要先转char再进行时间比较。如：to_date(substr(i.sto,1,10), ‘yyyy-MM-dd’)

  

  

