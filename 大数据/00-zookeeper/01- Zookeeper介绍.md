# Zookeeper介绍

1- ZK 是一个分布式的协调服务框架；

2- ZK主要是用来管理其它框架的，单独使用没有任何意义；

3- ZK本身也是个集群，它也有自己的文件系统（目录系统），类似于Linux；





# Zookeeper解决了哪些问题



1- 解决集群中**配置文件的统一性**问题； 

2- 解决分布式集群统一管理问题（单点故障切换问题）

3- 解决分布式中的**分布和订阅**问题；

4- 解决分布式系统的**锁机制**问题；

5- 解决集群中**节点动态上下线**问题； 







# Zookeeper特性

1- 全局数据一致性； 

2- 可靠性；

3- 顺序性； 

4- 数据更新原子性； 

5- 实时性； 







# Zookeeper集群角色



![zookeeper集群角色](.\image\zookeeper集群角色.jpg)



## Leader

- Zookeeper集群工作的核心

- 事务请求（写操作）的唯一调度和处理者，保证集群事务处理的顺序性；

- 集群内部各个服务器的调度者。

- 对于create，setData，delete等有写操作的请求，则需要统一转发给leader处理，leader需要决定编号、执行操作，这个过程称为一个事务。

  

## Follower

- 处理客户端非事务（读操作）请求，转发事务请求给Leader；

- 参与集群Leader选举投票。

- 此外，针对访问量比较大的zookeeper集群，还可新增观察者角色。

  

## Observer

- 观察者角色，观察Zookeeper集群的最新状态变化并将这些状态同步过来，其对于非事务请求可以进行独立处理，对于事务请求，则会转发给Leader服务器进行处理。

- **不会参与任何形式的投票只提供非事务服务**，通常用于在不影响集群事务处理能力的前提下提升集群的非事务处理能力。

